<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= content_for?(:title) ? yield(:title) : "Designated Driver Shuttle" %></title>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
    <%= csrf_meta_tags %>
  </head>

  <body>
    <nav class="navbar navbar-full navbar-dark bg-inverse">
      <a class="navbar-brand" href="/">DDS</a>
      <ul class="nav navbar-nav">
        <li class="nav-item <%= 'active' if current_page?(new_ride_path) %>"><a class="nav-link" href="/rides/new">Request Ride</a></li>
        <li class="nav-item <%= 'active' if current_page?(about_path) %>"><a class="nav-link" href="/about">About</a></li>
        <li class="nav-item <%= 'active' if current_page?(policies_path) %>"><a class="nav-link" href="/policies">Policies</a></li>
        <li class="nav-item <%= 'active' if current_page?(faq_path) %>"><a class="nav-link" href="/faq">FAQ</a></li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" 
                                                                     role="button" aria-haspopup="true" aria-expanded="false">Account</a>
          <div class="dropdown-menu" aria-labelledby="Preview">
            <% if user_signed_in? %>
              <%= link_to 'Logout', users_sign_out_path, class: "dropdown-item" %>
              <%= link_to 'Rides', rides_path, class: "dropdown-item" %>
              <%= link_to 'Go to Work', create_shift_path, method: :post, class: "dropdown-item"%>
              <%= link_to 'Vehicles', vehicles_path, class: "dropdown-item" %>
            <% else %>
              <%= link_to 'Login', new_user_session_path, class: "dropdown-item" %>
            <% end %>
          </div>
        </li>
      </ul>
    </nav>

    <div class="container">
      <% unless notice.nil? %>
        <p></p>
        <div class="alert alert-success alert-dismissible" role="alert">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <%= notice %>
        </div>
      <% end %>
      <p></p>
      <% unless alert.nil? %>
        <div class="alert alert-info alert-dismissible" role="alert">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <%= alert %>
        </div>
      <% end %>
      <%= yield %>
    </div>
  </body>
</html>
